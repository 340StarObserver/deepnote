# 需求描述 #


--------------------------------------------------


## 之前的demo版的功能 ##

账户模块  
> 用户登陆  
> 用户注册  
> 用户注销  

笔记搜索模块  
> 通过若干关键词进行搜索  
> 通过书名作者名进行搜索  
> 通过id进行精确搜索  

笔记管理模块  
> 加载我的笔记分类和每个分类下的笔记  
> 新增笔记分类  
> 笔记发布  
> 笔记的点赞，收藏，评论  
> 我的笔记收藏  
> 评论提醒  

笔记推送模块  
> 加载热门的笔记推送（这是公共推送，个性化定制推送将计划在正式版中增加）  


--------------------------------------------------


## v1.0需求设计 ##

客户端写笔记模块  

1，客户端笔记草稿本  
> 进入App后，不管有没有登陆，都要从磁盘加载（反序列化）所有的草稿笔记到内存中  
> 设计草稿笔记和草稿笔记表（注意笔记是有分类的）在客户端内存中的数据结构  
> 草稿笔记的序列化和反序列化  
> 草稿笔记的属性 ： 标题，[是否私有]，分类名，[原文出处]，[原文作者]，[原文链接]，[原文出处的封面小图]，[引用的原文]，感受，标签们  
> 写笔记界面上，有按钮进行手动保存草稿（保存草稿的时候，既要同步内存中的，也要同步磁盘上的）  
> 在离开写笔记界面的时候，检查若这篇笔记没有被提交，则提示用户是否要保存草稿；若该篇笔记已经被提交且草稿本中也存在，则删除草稿本中的该篇笔记（删除草稿的时候，既要同步内存中的，也要同步磁盘上的）  
>> Tip : 对于每个草稿对象，内部设置一个状态表示是否已被提交，每篇草稿笔记对应磁盘上的一个文件  

2，手动写笔记  
> 需要填写 ： 标题，[是否私有]，分类名，[原文出处]，[原文作者]，[原文链接]，[原文出处的封面小图]，[引用的原文]，感受，标签们  
> 呈现方式优雅  

3，一键链接生成笔记模板  
> 复制一段引用的原文，自动转到App生成笔记模板  
> 获取原文那里当前的url地址（作为原文链接），根据这个链接地址爬取该页面上的一张图片作为原文出处的封面小图（需要兼容异常，可能那不是个浏览器，没有地址也没有图片）  
> 如果没有原文链接，则自动填null  
> 如果没有原文出处的封面小图，则使用默认图片（该图会在客户端中）  
> 可以在客户端对封面小图做一些简单的自动美化，如边框啊啥的  

4，拍照识别生成笔记模板  
> 使用第三方的库，或者接入第三方文字识别的应用  
> 原文链接自动填null  
> 直接使用拍照的图片来作为原文出处的封面小图  
> 可以在客户端对封面小图做一些简单的自动美化，如边框啊啥的  


--------------------------------------------------


## v1.1需求设计 ##

账户模块  

1，用户注册  
> 需要（用户名，密码，头像代号）  
> 头像图片库放在客户端  
> 注册成功后，先提示注册成功，然后倒计时几秒钟，再自动登陆  
> 采用邀请码的方式，且注册成功后用户自动拥有邀请码（也就拥有了邀请别人的权利）  

2，用户登陆  
> 第一次登陆（即注册成功后的自动登陆），是利用内存中暂存的账号密码来自动登陆的  
> 第一次登陆后，要把个人数据（用户名，密码密文，头像代号）持久化到本地磁盘上  
> 之后登陆，都是自动登陆  
> 用户在登陆后，可以进行删除本地的个人数据的操作，那样的话，本地的<strong>所有个人数据（包括个人基本数据和笔记数据）</strong>都会被删除，且下次需要手动输入账号密码  
> 在等待登陆结果的时候，显示该用户的头像和用户名，不要什么都没有干等着  

3，用户注销  
> 手动注销的时候，提示用户是否删除本地个人数据  


--------------------------------------------------


## v1.2需求设计 ##

笔记管理模块  


--------------------------------------------------


## v2.0需求设计 ##

笔记搜索模块  

1，根据若干关键词搜索读书笔记  
> 对于每一篇足够匹配的读书笔记，需要返回它的（笔记id，标题，标签们，认同数，反对数，评论数，收藏数，阅读数，感受的一部分）  
> 搜索结果根据匹配程度和热度，降序排列  
> 支持分页查询  
> 不需要登陆  
> 用户输入多个关键词时的体验要好  
> 搜索结果优雅呈现  
> 没有查到的时候，也有一个比较优雅的反馈  
> 搜索速度必须优化，但目前对具体数字指标还没底  

2，根据书名和书的作者名来搜索读书笔记  
> 对于每一篇足够匹配的读书笔记，需要返回它的（笔记id，标题，标签们，认同数，反对数，评论数，收藏数，阅读数，感受的一部分）  
> 搜索结果根据匹配程度和热度，降序排列  
> 支持分页查询  
> 不需要登陆  
> 可以手动搜索，用户输入书名和书的作者名时的体验要好  
> 可以自动搜索，即用户在看某一篇笔记的详细信息的那个页面上，可以点个按钮自动以该篇笔记的书名和书的作者名来搜索  
> 搜索结果优雅呈现  
> 没有查到的时候，也有一个比较优雅的反馈  
> 搜索速度必须优化，但目前对具体数字指标还没底  

3，根据读书笔记的id来搜索读书笔记  
> 返回这篇读书笔记的（笔记id，标题，作者，发布时间，引用文章的出处，引用文章的作者，引用文章的链接，引用文段，感受，标签们，认同数，反对数，评论数，收藏数，阅读数，全部评论内容）  
> 阅读数自动加一  
> 不需要登陆  
> 笔记内容优雅呈现  
> 没有查到的时候，也有一个比较优雅的反馈  


--------------------------------------------------


## v3.0需求设计 ##

笔记推送模块  